<html>
<head>
<title>Lights</title>
<script type="text/javascript">
function httpGet(theUrl)
{
    var xmlHttp = null;

    xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false );
    xmlHttp.send( null );
    return xmlHttp.responseText;
}

function updateStatus()
{
    var data = JSON.parse(httpGet('get/living'));

    document.getElementById("bright").innerHTML = Math.round(data['brightness']);
    document.getElementById("color").innerHTML = Math.round(data['color']);
}

function startcycle()
{
    setInterval(updateStatus,1000);
}

</script>
</head>

<body>

<table border=1 width=100% height=90%>
<tr height=50%>
<td bgcolor=white onclick="httpGet('set/living/256')" width=14.28%></td>
<td bgcolor=red onclick="httpGet('set/living/176')" width=14.28% ></td>
<td bgcolor=yellow onclick="httpGet('set/living/128')" width=14.28% ></td>
<td bgcolor=green onclick="httpGet('set/living/96')" width=14.28% ></td>
<td bgcolor=blue onclick="httpGet('set/living/16')" width=14.28% ></td>
<td bgcolor=violet onclick="httpGet('set/living/0')" width=14.28% ></td>
<td bgcolor=black onclick="httpGet('off/living')" width=14.28% ></td>
</tr>

<tr height=50%>
<td><a onclick="httpGet('set/living/-/27')" >100%</a></td>
<td><a onclick="httpGet('set/living/-/20')" >75%</a></td>
<td><a onclick="httpGet('set/living/-/14')" >50%</a></td>
<td><a onclick="httpGet('set/living/-/8')" >25%</a></td>
<td><a onclick="httpGet('set/living/-/2')" >1%</a></td>
</tr>
</table>

<br/>

<table border=1>
<tr>
<td>Current Brightness:</td><td><div id="bright"></div></td>
<td>Current Color:</td><td id="color">&nbsp; &nbsp; &nbsp; &nbsp;</td>
</tr>
</table>

<script>
startcycle();
</script>

</body>
</html>
